# configure for Passenger
# please excute "passenger-install-apache2-module --snippet"
# and paste here

LoadModule passenger_module <%= node['passenger']['Passenger-loadmodule'] %>
<IfModule mod_passenger.c>
  PassengerRoot <%= node['passenger']['PassengerRoot'] %>
  PassengerDefaultRuby <%= node['passenger']['PassengerDefaultRuby'] %>
</IfModule>



# settings to remove HTTP header which Passenger will add

Header always unset "X-Powered-By"
Header always unset "X-Rack-Cache"
Header always unset "X-Content-Digest"
Header always unset "X-Runtime"


# Passenger settings

PassengerMaxPoolSize 20
PassengerMaxInstancesPerApp 4
PassengerPoolIdleTime 3600
PassengerHighPerformance on
PassengerStatThrottleRate 10
PassengerSpawnMethod smart
RailsAppSpawnerIdleTime 86400
PassengerMaxPreloaderIdleTime 0

# settings redmine address "documentRoot/redmine"

RackBaseURI /redmine